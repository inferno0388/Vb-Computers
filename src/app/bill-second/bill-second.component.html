                <!-- Begin Page Content -->
                <div class="container-fluid">

                    <!-- Page Heading -->
                    <div class="d-sm-flex align-items-center justify-content-between mb-2">
                        <h1 class="h3 mb-0 text-gray-800 font-weight-bold">Generate Bill</h1>
                    </div>

                    <!-- Content Row -->
                    <div class="row">
                    <div class="col-xl-12 col-md-12 mb-4">
                    <!-- DataTales Example -->
                    <div class="card shadow mb-3">
                        <div class="card-header py-3">
                            <h6 class="m-0 font-weight-bold text-primary">Add Bill</h6>
                        </div>
                        <div class="card-body">
                            <form class="user"  [formGroup]="rowForm" (ngSubmit)="submitRow()">
                                <div class="form-group row mb-0">
                                    <div class="col-sm-3 mb-3 required">
                                        <label class="control-label">Company Name</label>
                                        <select id="UnitName" #nameSelected class="form-control br" formControlName="companyName" (change)="validateSelection(nameSelected.value)">
                                            <option *ngFor="let company of companies" [value]="company.companyName">{{ company.companyName }}</option>
                                        </select>
                                        
                                        <div *ngIf="rowForm.get('companyName')?.invalid && rowForm.get('companyName')?.touched" class="text-danger">
                                            Company Name is required.
                                        </div>
                                    </div>
                                    <div class="col-sm-3 mb-3">
                                        <label>WO/PO No.</label>
                                        <input type="text" class="form-control form-control-user" 
                                            id="exampleInputPassword" placeholder="WO/PO Number" formControlName="woPoNumber" >
                                            <div *ngIf="rowForm.get('woPoNumber')?.invalid && rowForm.get('woPoNumber')?.touched" class="text-danger">
                                                WO/PO No. is required.
                                            </div>
                                    </div>
                                    <div class="col-sm-3 mb-3">
                                        <label>WO/PO Date</label>
                                        <input type="date" class="form-control form-control-user"
                                            id="exampleInputPassword" placeholder="WO/PO Date" formControlName="woPoDate" >
                                            <div *ngIf="rowForm.get('woPoDate')?.invalid && rowForm.get('woPoDate')?.touched" class="text-danger">
                                                WO/PO Date is required.
                                            </div>
                                    </div>  
                                    
                                    <div class="col-sm-3 mb-3">
                                        <label>SAC Number</label>
                                        <input type="number" class="form-control form-control-user"
                                            id="exampleInputPassword" placeholder="Enter SAC Number..." formControlName="sacNumber" >
                                            <div *ngIf="rowForm.get('sacNumber')?.invalid && rowForm.get('sacNumber')?.touched" class="text-danger">
                                                SAC is required.
                                            </div>
                                    </div> 
                                    
                                    <div class="col-sm-3 mb-3">
                                        <label>SAP Number</label>
                                        <input type="number" class="form-control form-control-user"
                                            id="sapNumber" #numberForSap placeholder="Enter SAP Number..." formControlName="sapNumber" (input)="getSapNumber(+numberForSap.value)">
                                            <div *ngIf="rowForm.get('sapNumber')?.invalid && rowForm.get('sapNumber')?.touched" class="text-danger">
                                                SAP is required.
                                            </div>
                                    </div>                         
                                                           
                                    <div class="col-sm-3 mb-3">
                                        <label>Item discription</label>
                                        <input type="text" class="form-control form-control-user"
                                            id="exampleInputPassword" placeholder="Item discription" formControlName="itemDescr" >
                                           
                                    </div>
                                    <div class="col-sm-3 mb-3">
                                        <label>Unit</label>
                                        <input type="text" class="form-control form-control-user"
                                            id="exampleInputPassword" placeholder="Unit" formControlName="unit">
                                            <div *ngIf="rowForm.get('unit')?.invalid && rowForm.get('unit')?.touched" class="text-danger">
                                                Unit is required.
                                            </div>
                                    </div>

                                    <div class="col-sm-3 mb-3">
                                        <label>Rate</label>
                                        <input type="number" class="form-control form-control-user"
                                            id="nameInput" placeholder="Enter Rate" formControlName="rate">
                                            <div *ngIf="rowForm.get('rate')?.invalid && rowForm.get('rate')?.touched" class="text-danger">
                                                RATE is required.
                                            </div>
                                    </div>

                                    <div class="col-sm-3 mb-3">
                                        <label>Quantity</label>
                                        <input type="number" class="form-control form-control-user"
                                            id="nameInput" placeholder="Enter Quantity" formControlName="quantity">
                                            <div *ngIf="rowForm.get('quantity')?.invalid && rowForm.get('quantity')?.touched" class="text-danger">
                                                quantity is required.
                                            </div>
                                    </div>
                                    
                                   
                                    <div class="col-sm-3 mb-3">
                                        <label class="control-label">IGST (%)</label>
                                        <input type="number" class="form-control form-control-user"
                                        id="nameInput" placeholder="GST (%)" formControlName="igst">
                                        <div *ngIf="rowForm.get('igst')?.invalid && rowForm.get('igst')?.touched" class="text-danger">
                                            IGST is required.
                                        </div>
                                    </div>
                                    <div class="col-sm-3 mb-3">
                                        <label class="control-label">CGST (%)</label>
                                        <input type="number" class="form-control form-control-user"
                                        id="nameInput" placeholder="GST (%)" formControlName="cgst">
                                        <div *ngIf="rowForm.get('cgst')?.invalid && rowForm.get('cgst')?.touched" class="text-danger">
                                            CGST is required.
                                        </div>
                                    </div>
                                    <div class="col-sm-3 mb-3">
                                        <label class="control-label">SGST (%)</label>
                                        <input type="number" class="form-control form-control-user"
                                        id="nameInput" placeholder="GST (%)" formControlName="sgst">
                                        <div *ngIf="rowForm.get('sgst')?.invalid && rowForm.get('sgst')?.touched" class="text-danger">
                                            SGST is required.
                                        </div>
                                    </div>
                                   
                                    <div class="col-sm-3 mb-3">
                                        <label class="control-label">Amount</label>
                                        <input  type="number" class="form-control form-control-user"
                                        id="nameInput" placeholder="Amount" formControlName="amount" >
                                        
                                    </div>      
                                    
                                </div>
                                <div class="card-footer">
                                    <button type="submit" class="btn shadow-sm btn-primary btn-user" (click)="showCard()"> <i class="fas fa-plus"></i> Add Item</button>                           
                                </div>
                                <!-- (click)="showCard()" -->
                            </form>
                        </div>
                        
                    </div>
                    <div class="card shadow mb-3" *ngIf="dataArray.length > 0">
                        <div class="card-header py-3">

                                <form class="d-none d-sm-inline-block form-inline">
                                    <div class="input-group">
                                        <div class="input-group-append">
                                            <button class="btn shadow-sm btn-primary btnshow" type="button">
                                                Show:
                                            </button>
                                        </div>
                                        <select id="numbershow" class="form-control br">
                                            <option value="0" selected>10</option>
                                            <option value="1">15</option>
                                            <option value="2">20</option>
                                            <option value="3">30</option>
                                          </select>  
                                          <!-- <div *ngIf="rowForm.get('companyName').invalid && rowForm.get('companyName').touched" class="text-danger">
                                            Company Name is required.
                                          </div>                                      -->
                                    </div>
                                </form>                                

                                <form class="d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search float-right">
                                    <div class="input-group">
                                        <input type="text" class="form-control" placeholder="Search for..." aria-label="Search" aria-describedby="basic-addon2">
                                        <div class="input-group-append">
                                            <button class="btn shadow-sm btn-primary" type="button">
                                                <i class="fas fa-search fa-sm"></i>
                                            </button>
                                        </div>
                                    </div>
                                </form>

                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                                    <thead class="table-heading">
                                        <tr>
                                            <th scope="col">SR.</th>
                                            <th scope="col">COMPANY NAME</th>
                                            <th scope="col">WO/PO No.</th>
                                            <th scope="col">WO/PO Date</th>                    
                                            <th scope="col">ITEM DISCRIPTION</th>
                                            <th scope="col">SAP Number</th>
                                            <th scope="col">SAC Number</th>
                                            <th scope="col">UNIT</th>
                                            <th scope="col">QUANTITY</th>
                                            <th scope="col">RATE</th>
                                            <!-- <th scope="col">GST(%)</th> -->
                                            <th scope="col">IGST(%)</th>
                                            <th scope="col">CGST(%)</th>
                                            <th scope="col">SGST(%)</th>
                                            <th scope="col">AMOUNT</th>
                                            <th scope="col">ACTION</th>
                                          </tr>
                                    </thead>
                                    <tbody>
                                   
                                        <tr *ngFor="let item of dataArray;let indexOfelement=index;">
                                            <td>{{indexOfelement+1}}</td>
                                            <td>{{ item.companyName }}</td>
                                            <td>{{ item.woPoNumber }}</td>
                                            <td>{{ item.woPoDate }}</td>
                                            <td>{{ item.itemDescr }}</td>
                                            <td>{{ item.sapNumber }}</td>
                                            <td>{{ item.sacNumber }}</td>
                                            <td>{{ item.unit }}</td>
                                            <td>{{ item.quantity }}</td>
                                            <td>{{ item.rate }}</td>
                                            <!-- <td>{{ item.gst }}</td> -->
                                            <td>{{ item.igst }}</td>
                                            <td>{{ item.cgst }}</td>
                                            <td>{{ item.sgst }}</td>
                                            <td>{{ item.amount }}</td>
                                            <td class="text-center">
                                                <button (click)="editRow(indexOfelement)" class="btn shadow-sm btn-warning btn-circle btn-sm mr-1"><i class="fas fa-edit" ></i></button>
                                                <button (click)="deleteRow(indexOfelement)" class="btn shadow-sm btn-danger btn-circle btn-sm"><i class="fas fa-trash-alt" ></i></button>
                                            </td>
                                        </tr>
                                      
                                          
                                    </tbody>
                                    
                                </table>
                                
                            </div>
                        </div>
                        <div class="card-footer">
                            <button (click)="generateBill()" type="submit" class="btn shadow-sm btn-primary btn-user"> <i class="fas fa-download"></i> Generate Bill</button>                           
                        </div>
                    </div>
                    </div>

                    </div>
                    <!-- End Content Row -->

                </div>
                <!-- /.container-fluid -->